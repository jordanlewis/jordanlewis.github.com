
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Jordan Lewis</title>
  <meta name="author" content="Jordan Lewis">

  
  <meta name="description" content="This is the inaugural post of the PFDS series. Section 2.1 discusses the ramifications of implementing lists and stacks in a
functional and immutable &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jordanlewis.org">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Jordan Lewis" type="application/atom+xml">
  <link type="text/plain" rel="author" href="http://jordanlewis.org/humans.txt" />

<link rel="openid2.provider" href="https://www.google.com/accounts/o8/ud?source=profiles" />
<link rel="openid2.local_id" href="http://www.google.com/profiles/jordanthelewis" />
<link rel="openid.server" href="http://www.myopenid.com/server" />
<link rel="openid.delegate" href="http://jordanlewis.myopenid.com/" />

<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-21083142-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Jordan Lewis</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jordanlewis.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/about">About Me</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/27/chapter-1-dot-1/">Section 2.1</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-27T22:09:00-05:00" pubdate data-updated="true">Jan 27<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is the inaugural post of the PFDS series.</p>

<p>Section 2.1 discusses the ramifications of implementing lists and stacks in a
functional and immutable manner. Using the operation of <em>list catenation</em>
as a motivator, Okasaki introduces the idea of data sharing. We see that to
catenate two lists, we can share the second list, which doesn&#8217;t get modified,
but must copy all of the nodes in the first list just to modify the last one.</p>

<p>In Scala, the function catenate on the built-in list type looks like the
following:</p>

<div><script src='https://gist.github.com/1692508.js?file='></script>
<noscript><pre><code>def catenate[A](xs: List[A], ys: List[A]) : List[A] = xs match {
  case Nil =&gt; ys
  case x::xs =&gt; x :: (catenate(xs, ys))
 }</code></pre></noscript></div>


<p>Updating a single element of the list is similar. We have to copy all of the
elements in the list up to the element to be updated, and then we can point the
tail of the element we updated to the pre-existing tail of the old element,
thus sharing as much data as possible.</p>

<div><script src='https://gist.github.com/1692539.js?file='></script>
<noscript><pre><code>def update[A](xs: List[A], i: Int, y: A) : List[A] = (xs, i) match {
  case (Nil, _) =&gt; throw new AssertionError(&quot;Invalid subscript&quot;)
  case (x::xs, 0) =&gt; y::xs
  case (x::xs, i) =&gt; x::update(xs, i - 1, y)
}</code></pre></noscript></div>


<h3>Exercise 2.1</h3>

<p>This exercise is straightforward: we must write a function that takes a generic
list and returns a list of all of the suffix lists of the input list,
from longest to shortest. We must show that this function operates in linear
time and linear space with respect to the size of the input list.</p>

<p>Since no elements are being updated, it&#8217;s easy to see that all we have to do is
return a new list whose elements are every cons cell in the input list. This
is O(n) in time, as we are performing one cons operation for each element in the
input list, and O(n) in space, as we&#8217;re saving one cons cell per cons cell in
the input list.</p>

<div><script src='https://gist.github.com/1692330.js?file='></script>
<noscript><pre><code>def suffixes[A](xs: List[A]): List[List[A]] = xs match {
  case Nil =&gt; Nil::Nil
  case x::xs =&gt; (x::xs)::suffixes(xs)</code></pre></noscript></div>


<p>This was a pretty simple section, serving mainly as a refresher course in
functional programming fundamentals.</p>

<p>For this post, I reused Scala&#8217;s built-in List type to implement the exercise
and example functions. I had intended to define my own abstract generic Stack,
and show how it can be implemented with either the build-in List type or a set
of case classes Nil and Cons, like Okasaki does using Standard ML. However, I&#8217;m
still a Scala novice, and I ran into some difficulties with the type system
that go over my head at this point. I plan to revisit this at a later date once
I&#8217;ve learned a little bit more about Scala&#8217;s type system.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/03/notes-on-purely-functional-data-structures/">Notes on Purely Functional Data Structures</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-03T01:24:00-05:00" pubdate data-updated="true">Jan 3<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I heard a lot of good things about Mike Okasaki&#8217;s <a href="http://www.amazon.com/gp/product/0521663504/ref=as_li_qf_sp_asin_tl?ie=UTF8&tag=jordanlewisor-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=0521663504">Purely Functional Data Structures</a><img src="http://www.assoc-amazon.com/e/ir?t=jordanlewisor-20&l=as2&o=1&a=0521663504" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /> at UChicago, but didn&#8217;t ever take the time to check it out. Lately I&#8217;ve missed the heady joy of reading and writing code in a strongly typed functional programming language like Standard ML, so when one of my coworkers at Knewton mentioned he was going to read the book I decided to get a copy for myself.</p>

<p>I&#8217;m going to try to read through the whole book and complete as many of the exercises that I can. To help myself keep the commitment, I&#8217;m going to follow in Eli Bendersky&#8217;s footsteps and post reading notes and exercise solutions along the way, as <a href="http://eli.thegreenplace.net/2007/06/19/introducing-the-sicp-reading-notes/">he did for SICP</a>.</p>

<p>The notes will be categorized under <a href="/blog/categories/pfds/">pfds</a>.</p>

<p>Also, I&#8217;ve recently begun to learn Scala, a strongly typed functional language on the JVM with nice features such as algebraic datatypes in the form of case classes, pattern matching, and lazy values. Given the usefulness of these language amenities for exploration of Okasaki&#8217;s concepts, I&#8217;m going to do the exercises in Scala instead of Standard ML or Haskell.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/02/hello-world/">Hello World</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-02T01:50:00-05:00" pubdate data-updated="true">Jan 2<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Hi internet! I&#8217;ve gotten with the program and bloggified my website with the help of the pretty rad <a href="http://octopress.org">Octopress</a> framework. Hope you enjoy it.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Hi, I&#8217;m <a href="about">Jordan Lewis</a>.</h1>
  <p>I work at <a href="http://knewton.com">Knewton</a> and live in Brooklyn, New York.</p>
</section>

<section>
  <h1><a href="http://twitter.com/JordanALewis">I tweet</a>.</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("JordanALewis", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/JordanALewis" class="twitter-follow-button" data-show-count="false">Follow @JordanALewis</a>
  
</section>

<section>
  <h1><a href="http://last.fm/user/Crassworm">I listen to music</a>.</h1>
  <script type="text/javascript" src="http://last.aelabs.net/js/recent.js?u=Crassworm&amp;limit=5"></script>

</section>

<section>
  <h1><a href="https://github.com/jordanlewis">I write open source software</a>.</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/jordanlewis">@jordanlewis</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jordanlewis',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Jordan Lewis -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'jordanlewis';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
